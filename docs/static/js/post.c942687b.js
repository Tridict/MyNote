(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["post"],{"0cb2":function(e,t,n){var o=n("7b0b"),a=Math.floor,c="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,u,s){var d=n+e.length,f=i.length,b=l;return void 0!==u&&(u=o(u),b=r),c.call(s,b,(function(o,c){var r;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":r=u[c.slice(1,-1)];break;default:var l=+c;if(0===l)return o;if(l>f){var s=a(l/10);return 0===s?o:s<=f?void 0===i[s-1]?c.charAt(1):i[s-1]+c.charAt(1):o}r=i[l-1]}return void 0===r?"":r}))}},1276:function(e,t,n){"use strict";var o=n("d784"),a=n("44e7"),c=n("825a"),r=n("1d80"),l=n("4840"),i=n("8aa5"),u=n("50c4"),s=n("577e"),d=n("14c3"),f=n("9263"),b=n("9f7fd"),v=n("d039"),p=b.UNSUPPORTED_Y,h=[].push,m=Math.min,g=4294967295,O=!v((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=s(r(this)),c=void 0===n?g:n>>>0;if(0===c)return[];if(void 0===e)return[o];if(!a(e))return t.call(o,e,c);var l,i,u,d=[],b=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,p=new RegExp(e.source,b+"g");while(l=f.call(p,o)){if(i=p.lastIndex,i>v&&(d.push(o.slice(v,l.index)),l.length>1&&l.index<o.length&&h.apply(d,l.slice(1)),u=l[0].length,v=i,d.length>=c))break;p.lastIndex===l.index&&p.lastIndex++}return v===o.length?!u&&p.test("")||d.push(""):d.push(o.slice(v)),d.length>c?d.slice(0,c):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var a=r(this),c=void 0==t?void 0:t[e];return void 0!==c?c.call(t,a,n):o.call(s(a),t,n)},function(e,a){var r=c(this),f=s(e),b=n(o,r,f,a,o!==t);if(b.done)return b.value;var v=l(r,RegExp),h=r.unicode,O=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(p?"g":"y"),j=new v(p?"^(?:"+r.source+")":r,O),w=void 0===a?g:a>>>0;if(0===w)return[];if(0===f.length)return null===d(j,f)?[f]:[];var x=0,C=0,y=[];while(C<f.length){j.lastIndex=p?0:C;var B,k=d(j,p?f.slice(C):f);if(null===k||(B=m(u(j.lastIndex+(p?C:0)),f.length))===x)C=i(f,C,h);else{if(y.push(f.slice(x,C)),y.length===w)return y;for(var N=1;N<=k.length-1;N++)if(y.push(k[N]),y.length===w)return y;C=x=B}}return y.push(f.slice(x)),y}]}),!O,p)},"14c3":function(e,t,n){var o=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var c=n.call(e,t);if("object"!==typeof c)throw TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==o(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},1703:function(e,t,n){},"2d1e":function(e,t,n){"use strict";n("45d8")},"2fcb":function(e,t,n){},"45d8":function(e,t,n){},5319:function(e,t,n){"use strict";var o=n("d784"),a=n("d039"),c=n("825a"),r=n("a691"),l=n("50c4"),i=n("577e"),u=n("1d80"),s=n("8aa5"),d=n("0cb2"),f=n("14c3"),b=n("b622"),v=b("replace"),p=Math.max,h=Math.min,m=function(e){return void 0===e?e:String(e)},g=function(){return"$0"==="a".replace(/./,"$0")}(),O=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),j=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,n){var o=O?"$":"$0";return[function(e,n){var o=u(this),a=void 0==e?void 0:e[v];return void 0!==a?a.call(e,o,n):t.call(i(o),e,n)},function(e,a){var u=c(this),b=i(e);if("string"===typeof a&&-1===a.indexOf(o)&&-1===a.indexOf("$<")){var v=n(t,u,b,a);if(v.done)return v.value}var g="function"===typeof a;g||(a=i(a));var O=u.global;if(O){var j=u.unicode;u.lastIndex=0}var w=[];while(1){var x=f(u,b);if(null===x)break;if(w.push(x),!O)break;var C=i(x[0]);""===C&&(u.lastIndex=s(b,l(u.lastIndex),j))}for(var y="",B=0,k=0;k<w.length;k++){x=w[k];for(var N=i(x[0]),V=p(h(r(x.index),b.length),0),S=[],E=1;E<x.length;E++)S.push(m(x[E]));var I=x.groups;if(g){var T=[N].concat(S,V,b);void 0!==I&&T.push(I);var $=i(a.apply(void 0,T))}else $=d(N,b,V,S,I,a);V>=B&&(y+=b.slice(B,V)+$,B=V+N.length)}return y+b.slice(B)}]}),!j||!g||O)},"8aa5":function(e,t,n){"use strict";var o=n("6547").charAt;e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},d4ef:function(e,t,n){},d784:function(e,t,n){"use strict";n("ac1f");var o=n("6eeb"),a=n("9263"),c=n("d039"),r=n("b622"),l=n("9112"),i=r("species"),u=RegExp.prototype;e.exports=function(e,t,n,s){var d=r(e),f=!c((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),b=f&&!c((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[i]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!b||n){var v=/./[d],p=t(d,""[e],(function(e,t,n,o,c){var r=t.exec;return r===a||r===u.exec?f&&!c?{done:!0,value:v.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}));o(String.prototype,e,p[0]),o(u,d,p[1])}s&&l(u[d],"sham",!0)}},f73c:function(e,t,n){"use strict";n.r(t);n("68ef"),n("d4ef"),n("cb51"),n("3743"),n("e3b3"),n("bc1b"),n("1703"),n("a71a"),n("4d75"),n("2fcb");var o,a=n("7a23"),c=n("db17"),r=n("c199"),l=n("1da4"),i=n("d282"),u=n("7e3e"),s=n("8da3"),d=n("b1d2"),f=n("ea8e"),b=n("f827"),v=n("e41f"),p=n("b650"),h=n("a6cd"),[m,g]=Object(i["a"])("action-bar"),O=Symbol(m),j=Object(a["defineComponent"])({name:m,props:{safeAreaInsetBottom:c["f"]},setup(e,{slots:t}){var{linkChildren:n}=Object(h["a"])(O);return n(),()=>Object(a["createVNode"])("div",{class:[g(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==t.default?void 0:t.default()])}}),w=Object(r["a"])(j),x=n("6ba6"),C=n("4eda"),y=n("b070"),[B,k]=Object(i["a"])("action-bar-button"),N=Object(a["defineComponent"])({name:B,props:Object(c["a"])({},y["a"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){var n=Object(y["b"])(),{parent:o,index:c}=Object(x["a"])(O),r=Object(a["computed"])(()=>{if(o){var e=o.children[c.value-1];return!(e&&"isButton"in e)}}),l=Object(a["computed"])(()=>{if(o){var e=o.children[c.value+1];return!(e&&"isButton"in e)}});return Object(C["a"])({isButton:!0}),()=>{var{type:o,icon:c,text:i,color:u,loading:s,disabled:d}=e;return Object(a["createVNode"])(p["a"],{class:k([o,{last:l.value,first:r.value}]),size:"large",type:o,icon:c,color:u,loading:s,disabled:d,onClick:n},{default:()=>[t.default?t.default():i]})}}}),V=Object(r["a"])(N),[S,E,I]=Object(i["a"])("dialog"),T=[...b["a"],"transition","closeOnPopstate"],$=Object(a["defineComponent"])({name:S,props:Object(c["a"])({},b["b"],{title:String,theme:String,width:[Number,String],message:[String,Function],callback:Function,allowHtml:Boolean,className:c["g"],messageAlign:String,closeOnPopstate:c["f"],showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:c["f"],closeOnClickOverlay:Boolean,transition:{type:String,default:"van-dialog-bounce"}}),emits:["confirm","cancel","update:show"],setup(e,{emit:t,slots:n}){var o=Object(a["reactive"])({confirm:!1,cancel:!1}),r=e=>t("update:show",e),l=t=>{r(!1),e.callback&&e.callback(t)},i=n=>()=>{e.show&&(t(n),e.beforeClose?(o[n]=!0,Object(u["a"])({interceptor:e.beforeClose,args:[n],done(){l(n),o[n]=!1},canceled(){o[n]=!1}})):l(n))},b=i("cancel"),h=i("confirm"),m=()=>{var t=n.title?n.title():e.title;if(t)return Object(a["createVNode"])("div",{class:E("header",{isolated:!e.message&&!n.default})},[t])},g=t=>{var{message:n,allowHtml:o,messageAlign:c}=e,r=E("message",{"has-title":t,[c]:c}),l=Object(s["b"])(n)?n():n;return o&&"string"===typeof l?Object(a["createVNode"])("div",{class:r,innerHTML:l},null):Object(a["createVNode"])("div",{class:r},[l])},O=()=>{if(n.default)return Object(a["createVNode"])("div",{class:E("content")},[n.default()]);var{title:t,message:o,allowHtml:c}=e;if(o){var r=!(!t&&!n.title);return Object(a["createVNode"])("div",{key:c?1:0,class:E("content",{isolated:!r})},[g(r)])}},j=()=>Object(a["createVNode"])("div",{class:[d["d"],E("footer")]},[e.showCancelButton&&Object(a["createVNode"])(p["a"],{size:"large",text:e.cancelButtonText||I("cancel"),class:E("cancel"),style:{color:e.cancelButtonColor},loading:o.cancel,onClick:b},null),e.showConfirmButton&&Object(a["createVNode"])(p["a"],{size:"large",text:e.confirmButtonText||I("confirm"),class:[E("confirm"),{[d["b"]]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:o.confirm,onClick:h},null)]),x=()=>Object(a["createVNode"])(w,{class:E("footer")},{default:()=>[e.showCancelButton&&Object(a["createVNode"])(V,{type:"warning",text:e.cancelButtonText||I("cancel"),class:E("cancel"),color:e.cancelButtonColor,loading:o.cancel,onClick:b},null),e.showConfirmButton&&Object(a["createVNode"])(V,{type:"danger",text:e.confirmButtonText||I("confirm"),class:E("confirm"),color:e.confirmButtonColor,loading:o.confirm,onClick:h},null)]}),C=()=>n.footer?n.footer():"round-button"===e.theme?x():j();return()=>{var{width:t,title:n,theme:o,message:l,className:i}=e;return Object(a["createVNode"])(v["a"],Object(a["mergeProps"])({role:"dialog",class:[E([o]),i],style:{width:Object(f["a"])(t)},"aria-labelledby":n||l},Object(c["e"])(e,T),{"onUpdate:show":r}),{default:()=>[m(),O(),C()]})}}});function _(){var e={setup(){var{state:e,toggle:t}=Object(l["b"])();return()=>Object(a["createVNode"])($,Object(a["mergeProps"])(e,{"onUpdate:show":t}),null)}};({instance:o}=Object(l["a"])(e))}function z(e){return c["c"]?new Promise((t,n)=>{o||_(),o.open(Object(c["a"])({},z.currentOptions,e,{callback:e=>{("confirm"===e?t:n)(e)}}))}):Promise.resolve()}z.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},z.currentOptions=Object(c["a"])({},z.defaultOptions),z.alert=z,z.confirm=e=>z(Object(c["a"])({showCancelButton:!0},e)),z.close=()=>{o&&o.toggle(!1)},z.setDefaultOptions=e=>{Object(c["a"])(z.currentOptions,e)},z.resetDefaultOptions=()=>{z.currentOptions=Object(c["a"])({},z.defaultOptions)},z.Component=Object(r["a"])($),z.install=e=>{e.use(z.Component),e.config.globalProperties.$dialog=z};var P=z,R=(n("9a83"),n("f564")),M=n("1da1"),A=(n("ac1f"),n("1276"),n("5319"),n("96cf"),n("6c02")),L=n("ef04"),U=n("9073"),D=function(){var e=function(e){return"data:text/paint; utf-8,"+encodeURIComponent(e)};return{getDownloadLink:e}};Object(a["pushScopeId"])("data-v-23aa5bb1");var H={class:"editor-wrap"},F={class:"v-md-editor-wrap"},q={class:"uploader-wrap"},J=Object(a["createTextVNode"])(" 导入笔记 "),Y=Object(a["createElementVNode"])("div",{class:"uploader-warn van-action-sheet__subname"}," 导入笔记将覆盖您当前输入的内容 ",-1),G=["download","href"],K=Object(a["createElementVNode"])("button",{class:"van-action-sheet__item"},"导出笔记",-1),Q=[K];Object(a["popScopeId"])();var W={setup:function(e){var t=Object(U["a"])(),n=t.fileMetaList,o=t.onImportFiles,c=D(),r=c.getDownloadLink,l=function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:console.log(n.value[0]),m.value=null===(a=n.value[0])||void 0===a?void 0:a.content,f.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(a["ref"])("edit"),t=Object(a["computed"])((function(){return"edit"===e.value})),n=function(){e.value="edit"===e.value?"preview":"edit"};return{mode:e,isEdit:t,showPreview:n}},u=function(e){var t=Object(a["ref"])(!1),n=Object(a["ref"])(null),o=function(){t.value&&Object(R["a"])("滚动啦")},c=function(){setTimeout((function(){t.value=!0,e.value="50vh"}),300)},r=function(){setTimeout((function(){t.value=!1,e.value="calc(100vh - var(--van-nav-bar-height))"}),300)};Object(a["onMounted"])((function(){var e=document.querySelector(".CodeMirror-code");null!==e&&(e.addEventListener("focus",c),e.addEventListener("blur",r)),null!=n.value&&(console.log(n.value),n.value.addEventListener("scroll",o))}))},s=Object(A["c"])(),d=Object(L["a"])(),f=d.showMore,b=i(),v=b.mode,p=b.isEdit,h=b.showPreview;u();var m=Object(a["ref"])("## 在此编辑您的内容"),g=Object(a["ref"])("calc(100vh - var(--van-nav-bar-height))"),O=Object(a["computed"])((function(){var e=m.value.split("\n")[0];return"#"==e[0]?e.replace(/#+ /g,""):e})),j=function(){P.confirm({message:"确认返回吗？笔记不会自动保存哦"}).then((function(){s.push("/notes")})).catch((function(){}))},w=function(){Object(R["a"])({type:"success",message:"保存成功",duration:800})};return function(e,t){var n=Object(a["resolveComponent"])("van-icon"),o=Object(a["resolveComponent"])("van-button"),c=Object(a["resolveComponent"])("van-nav-bar"),i=Object(a["resolveComponent"])("v-md-editor"),u=Object(a["resolveComponent"])("van-uploader"),s=Object(a["resolveComponent"])("van-action-sheet");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,[Object(a["createVNode"])(c,{title:"MyNote"},{left:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(o,{size:"small",onClick:j},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(n,{size:"20",name:"https://api.iconify.design/mdi:chevron-left.svg"})]})),_:1})]})),right:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(o,{size:"small",onClick:t[0]||(t[0]=function(e){return f.value=!0})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(n,{size:"16",name:"https://api.iconify.design/fa-solid:ellipsis-h.svg"})]})),_:1}),Object(a["createVNode"])(o,{size:"small",onClick:Object(a["unref"])(h)},{default:Object(a["withCtx"])((function(){return[Object(a["unref"])(p)?(Object(a["openBlock"])(),Object(a["createBlock"])(n,{key:0,size:"20",name:"https://api.iconify.design/mdi:file-eye-outline.svg"})):(Object(a["openBlock"])(),Object(a["createBlock"])(n,{key:1,size:"20",name:"https://api.iconify.design/mdi:note-edit-outline.svg"}))]})),_:1},8,["onClick"]),Object(a["createVNode"])(o,{size:"small",onClick:w},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(n,{size:"20",name:"https://api.iconify.design/mdi:content-save-outline.svg"})]})),_:1})]})),_:1}),Object(a["createElementVNode"])("div",F,[Object(a["createVNode"])(i,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m.value=e}),mode:Object(a["unref"])(v),height:g.value,"left-toolbar":"undo redo | toc | ul ol quote table link code | sync-scroll clear","right-toolbar":""},null,8,["modelValue","mode","height"])]),Object(a["createVNode"])(s,{show:Object(a["unref"])(f),"onUpdate:show":t[2]||(t[2]=function(e){return Object(a["isRef"])(f)?f.value=e:null}),"cancel-text":"取消","close-on-click-action":"","safe-area-inset-bottom":""},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("label",q,[Object(a["createVNode"])(u,{accept:".md, .txt","after-read":l},{default:Object(a["withCtx"])((function(){return[J]})),_:1}),Y]),Object(a["createElementVNode"])("a",{class:"export-wrap",download:Object(a["unref"])(O),href:Object(a["unref"])(r)(m.value)},Q,8,G)]})),_:1},8,["show"])])}}};n("2d1e");W.__scopeId="data-v-23aa5bb1";t["default"]=W}}]);