(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["post"],{1703:function(e,t,n){},"2fcb":function(e,t,n){},"4e3a":function(e,t,n){},"6f71":function(e,t,n){"use strict";n("4e3a")},d4ef:function(e,t,n){},f73c:function(e,t,n){"use strict";n.r(t);n("68ef"),n("d4ef"),n("cb51"),n("3743"),n("e3b3"),n("bc1b"),n("1703"),n("a71a"),n("4d75"),n("2fcb");var o,c=n("7a23"),a=n("db17"),l=n("c199"),r=n("1da4"),i=n("d282"),s=n("7e3e"),u=n("8da3"),d=n("b1d2"),b=n("ea8e"),f=n("f827"),O=n("e41f"),v=n("b650"),m=n("a6cd"),[j,p]=Object(i["a"])("action-bar"),g=Symbol(j),h=Object(c["defineComponent"])({name:j,props:{safeAreaInsetBottom:a["f"]},setup(e,{slots:t}){var{linkChildren:n}=Object(m["a"])(g);return n(),()=>Object(c["createVNode"])("div",{class:[p(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==t.default?void 0:t.default()])}}),w=Object(l["a"])(h),C=n("6ba6"),B=n("4eda"),N=n("b070"),[V,k]=Object(i["a"])("action-bar-button"),y=Object(c["defineComponent"])({name:V,props:Object(a["a"])({},N["a"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){var n=Object(N["b"])(),{parent:o,index:a}=Object(C["a"])(g),l=Object(c["computed"])(()=>{if(o){var e=o.children[a.value-1];return!(e&&"isButton"in e)}}),r=Object(c["computed"])(()=>{if(o){var e=o.children[a.value+1];return!(e&&"isButton"in e)}});return Object(B["a"])({isButton:!0}),()=>{var{type:o,icon:a,text:i,color:s,loading:u,disabled:d}=e;return Object(c["createVNode"])(v["a"],{class:k([o,{last:r.value,first:l.value}]),size:"large",type:o,icon:a,color:s,loading:u,disabled:d,onClick:n},{default:()=>[t.default?t.default():i]})}}}),x=Object(l["a"])(y),[S,_,z]=Object(i["a"])("dialog"),T=[...f["a"],"transition","closeOnPopstate"],E=Object(c["defineComponent"])({name:S,props:Object(a["a"])({},f["b"],{title:String,theme:String,width:[Number,String],message:[String,Function],callback:Function,allowHtml:Boolean,className:a["g"],messageAlign:String,closeOnPopstate:a["f"],showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:a["f"],closeOnClickOverlay:Boolean,transition:{type:String,default:"van-dialog-bounce"}}),emits:["confirm","cancel","update:show"],setup(e,{emit:t,slots:n}){var o=Object(c["reactive"])({confirm:!1,cancel:!1}),l=e=>t("update:show",e),r=t=>{l(!1),e.callback&&e.callback(t)},i=n=>()=>{e.show&&(t(n),e.beforeClose?(o[n]=!0,Object(s["a"])({interceptor:e.beforeClose,args:[n],done(){r(n),o[n]=!1},canceled(){o[n]=!1}})):r(n))},f=i("cancel"),m=i("confirm"),j=()=>{var t=n.title?n.title():e.title;if(t)return Object(c["createVNode"])("div",{class:_("header",{isolated:!e.message&&!n.default})},[t])},p=t=>{var{message:n,allowHtml:o,messageAlign:a}=e,l=_("message",{"has-title":t,[a]:a}),r=Object(u["b"])(n)?n():n;return o&&"string"===typeof r?Object(c["createVNode"])("div",{class:l,innerHTML:r},null):Object(c["createVNode"])("div",{class:l},[r])},g=()=>{if(n.default)return Object(c["createVNode"])("div",{class:_("content")},[n.default()]);var{title:t,message:o,allowHtml:a}=e;if(o){var l=!(!t&&!n.title);return Object(c["createVNode"])("div",{key:a?1:0,class:_("content",{isolated:!l})},[p(l)])}},h=()=>Object(c["createVNode"])("div",{class:[d["d"],_("footer")]},[e.showCancelButton&&Object(c["createVNode"])(v["a"],{size:"large",text:e.cancelButtonText||z("cancel"),class:_("cancel"),style:{color:e.cancelButtonColor},loading:o.cancel,onClick:f},null),e.showConfirmButton&&Object(c["createVNode"])(v["a"],{size:"large",text:e.confirmButtonText||z("confirm"),class:[_("confirm"),{[d["b"]]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:o.confirm,onClick:m},null)]),C=()=>Object(c["createVNode"])(w,{class:_("footer")},{default:()=>[e.showCancelButton&&Object(c["createVNode"])(x,{type:"warning",text:e.cancelButtonText||z("cancel"),class:_("cancel"),color:e.cancelButtonColor,loading:o.cancel,onClick:f},null),e.showConfirmButton&&Object(c["createVNode"])(x,{type:"danger",text:e.confirmButtonText||z("confirm"),class:_("confirm"),color:e.confirmButtonColor,loading:o.confirm,onClick:m},null)]}),B=()=>n.footer?n.footer():"round-button"===e.theme?C():h();return()=>{var{width:t,title:n,theme:o,message:r,className:i}=e;return Object(c["createVNode"])(O["a"],Object(c["mergeProps"])({role:"dialog",class:[_([o]),i],style:{width:Object(b["a"])(t)},"aria-labelledby":n||r},Object(a["e"])(e,T),{"onUpdate:show":l}),{default:()=>[j(),g(),B()]})}}});function P(){var e={setup(){var{state:e,toggle:t}=Object(r["b"])();return()=>Object(c["createVNode"])(E,Object(c["mergeProps"])(e,{"onUpdate:show":t}),null)}};({instance:o}=Object(r["a"])(e))}function H(e){return a["c"]?new Promise((t,n)=>{o||P(),o.open(Object(a["a"])({},H.currentOptions,e,{callback:e=>{("confirm"===e?t:n)(e)}}))}):Promise.resolve()}H.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},H.currentOptions=Object(a["a"])({},H.defaultOptions),H.alert=H,H.confirm=e=>H(Object(a["a"])({showCancelButton:!0},e)),H.close=()=>{o&&o.toggle(!1)},H.setDefaultOptions=e=>{Object(a["a"])(H.currentOptions,e)},H.resetDefaultOptions=()=>{H.currentOptions=Object(a["a"])({},H.defaultOptions)},H.Component=Object(l["a"])(E),H.install=e=>{e.use(H.Component),e.config.globalProperties.$dialog=H};var I=H,A=(n("9a83"),n("f564")),L=n("1da1"),M=(n("96cf"),n("6c02")),U=n("ef04"),F=n("9073");Object(c["pushScopeId"])("data-v-b64c0bd8");var R={class:"editor-wrap"},q={class:"v-md-editor-wrap"},D={class:"uploader-wrap"},J=Object(c["createTextVNode"])(" 导入笔记 "),$=Object(c["createElementVNode"])("div",{class:"uploader-warn van-action-sheet__subname"}," 导入笔记将覆盖您当前输入的内容 ",-1),G=Object(c["createElementVNode"])("button",{class:"van-action-sheet__item"},"导出笔记",-1);Object(c["popScopeId"])();var K={setup:function(e){var t=Object(F["a"])(),n=t.fileMetaList,o=t.onImportFiles,a=function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:console.log(n.value[0]),v.value=null===(c=n.value[0])||void 0===c?void 0:c.content,u.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c["ref"])("edit"),t=Object(c["computed"])((function(){return"edit"===e.value})),n=function(){e.value="edit"===e.value?"preview":"edit"};return{mode:e,isEdit:t,showPreview:n}},r=function(e){var t=Object(c["ref"])(!1),n=Object(c["ref"])(null),o=function(){t.value&&Object(A["a"])("滚动啦")},a=function(){setTimeout((function(){t.value=!0,e.value="calc(100vh - var(--van-nav-bar-height) - ".concat(document.documentElement.clientHeight-window.innerHeight,"px)")}),300)},l=function(){setTimeout((function(){t.value=!1,e.value="calc(100vh - var(--van-nav-bar-height))"}),300)};Object(c["onMounted"])((function(){var e=document.querySelector("textarea");null!==e&&(e.addEventListener("focus",a),e.addEventListener("blur",l)),null!=n.value&&(console.log(n.value),n.value.addEventListener("scroll",o))}))},i=Object(M["c"])(),s=Object(U["a"])(),u=s.showMore,d=l(),b=d.mode,f=d.isEdit,O=d.showPreview;r();var v=Object(c["ref"])("## 在此编辑您的内容"),m=Object(c["ref"])("calc(100vh - var(--van-nav-bar-height))"),j=function(){I.confirm({message:"确认返回吗？笔记不会自动保存哦"}).then((function(){i.push("/notes")})).catch((function(){}))},p=function(){Object(A["a"])({type:"success",message:"保存成功",duration:800})};return function(e,t){var n=Object(c["resolveComponent"])("van-icon"),o=Object(c["resolveComponent"])("van-button"),l=Object(c["resolveComponent"])("van-nav-bar"),r=Object(c["resolveComponent"])("v-md-editor"),i=Object(c["resolveComponent"])("van-uploader"),s=Object(c["resolveComponent"])("van-action-sheet");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",R,[Object(c["createVNode"])(l,{title:"MyNote"},{left:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{size:"small",onClick:j},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{size:"20",name:"https://api.iconify.design/mdi:chevron-left.svg"})]})),_:1})]})),right:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(o,{size:"small",onClick:t[0]||(t[0]=function(e){return u.value=!0})},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{size:"16",name:"https://api.iconify.design/fa-solid:ellipsis-h.svg"})]})),_:1}),Object(c["createVNode"])(o,{size:"small",onClick:Object(c["unref"])(O)},{default:Object(c["withCtx"])((function(){return[Object(c["unref"])(f)?(Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:0,size:"20",name:"https://api.iconify.design/mdi:file-eye-outline.svg"})):(Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:1,size:"20",name:"https://api.iconify.design/mdi:note-edit-outline.svg"}))]})),_:1},8,["onClick"]),Object(c["createVNode"])(o,{size:"small",onClick:p},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(n,{size:"20",name:"https://api.iconify.design/mdi:content-save-outline.svg"})]})),_:1})]})),_:1}),Object(c["createElementVNode"])("div",q,[Object(c["createVNode"])(r,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.value=e}),mode:Object(c["unref"])(b),height:m.value,"left-toolbar":"undo redo | toc | ul ol quote table link code | sync-scroll clear","right-toolbar":""},null,8,["modelValue","mode","height"])]),Object(c["createVNode"])(s,{show:Object(c["unref"])(u),"onUpdate:show":t[2]||(t[2]=function(e){return Object(c["isRef"])(u)?u.value=e:null}),"cancel-text":"取消","close-on-click-action":"","safe-area-inset-bottom":""},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("label",D,[Object(c["createVNode"])(i,{accept:".md, .txt","after-read":a},{default:Object(c["withCtx"])((function(){return[J]})),_:1}),$]),G]})),_:1},8,["show"])])}}};n("6f71");K.__scopeId="data-v-b64c0bd8";t["default"]=K}}]);