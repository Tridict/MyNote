(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"498a":function(e,t,n){"use strict";var r=n("23e7"),a=n("58a8").trim,c=n("c8d2");r({target:"String",proto:!0,forced:c("trim")},{trim:function(){return a(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("577e"),c=n("5899"),o="["+c+"]",s=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),l=function(e){return function(t){var n=a(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(u,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"637e":function(e,t,n){},8461:function(e,t,n){},9053:function(e,t,n){"use strict";n("8461")},"9acd":function(e,t,n){"use strict";n("637e")},c8d2:function(e,t,n){var r=n("d039"),a=n("5899"),c="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||c[e]()!=c||a[e].name!==e}))}},dd7b:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=(n("9a83"),n("f564")),c=n("1da1"),o=(n("96cf"),n("ac1f"),n("1276"),n("498a"),n("d3b7"),n("ddb0"),n("99af"),n("6c02")),s=n("65d1"),u=n("8b10"),l=n("79f6"),i=function(e){return l["a"].post("/1.1/login",e)},d=function(e){return l["a"].post("/1.1/users",e)};Object(r["pushScopeId"])("data-v-2b250bec");var m={class:"btn-wrap"},b={key:1};Object(r["popScopeId"])();var p=Object(r["defineComponent"])({setup:function(e){var t=Object(o["c"])(),n=Object(r["reactive"])({isLoggingIn:!1}),l=Object(r["reactive"])({keys:"",username:"",password:"",rememberKeys:!1,rememberUsername:!1,leanCloudKeys:{appId:"",key:"",BASE_URL:""}}),p=function(e){var t=e.trim().split(" ");return 3==t.length&&(l.leanCloudKeys={appId:t[0],key:t[1],BASE_URL:t[2]},s["a"].setLocal("leanCloudKeys",l.leanCloudKeys),!0)},f=function(){p(l.keys)?j():console.log("LeanCloud字符串可能不正确")},j=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var r,c,o,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=m.length>0&&void 0!==m[0]?m[0]:"登录",n.isLoggingIn=!0,O(),e.prev=3,c={},"注册"!==r){e.next=11;break}return e.next=8,d({username:l.username,password:l.password});case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,i({username:l.username,password:l.password});case 13:c=e.sent;case 14:s["a"].setLocal("LcUserInfo",c),Object(a["a"])({type:"success",message:"你好，".concat(l.username,"，").concat(r,"成功啦！")}),o=Object(u["a"])("redirect"),"string"===typeof o?t.push(o):t.push("/notes"),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](3),console.log(e.t0),Object(a["a"])("".concat(e.t0));case 24:n.isLoggingIn=!1;case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(){return e.apply(this,arguments)}}(),O=function(){l.rememberKeys?s["a"].setLocal("keys",l.keys):s["a"].setLocal("keys",""),l.rememberUsername?s["a"].setLocal("username",l.username):s["a"].setLocal("username",""),s["a"].setLocal("rememberKeys",l.rememberKeys),s["a"].setLocal("rememberUsername",l.rememberUsername)},v=function(){l.rememberKeys=s["a"].get("rememberKeys")||!1,l.rememberUsername=s["a"].get("rememberUsername")||!1,l.keys=s["a"].get("keys")||"",l.username=s["a"].get("username")||""};return Object(r["onMounted"])(v),function(e,t){var a=Object(r["resolveComponent"])("van-field"),c=Object(r["resolveComponent"])("van-switch"),o=Object(r["resolveComponent"])("van-cell"),s=Object(r["resolveComponent"])("van-cell-group"),u=Object(r["resolveComponent"])("van-loading"),i=Object(r["resolveComponent"])("van-button"),d=Object(r["resolveComponent"])("van-form");return Object(r["openBlock"])(),Object(r["createBlock"])(d,{onSubmit:f},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{inset:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(a,{modelValue:Object(r["unref"])(l).keys,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(r["unref"])(l).keys=e}),name:"keys",label:"keys",placeholder:"请输入LeanCloud Keys 字符串",rules:[{required:!0,message:"请填写LeanCloud Keys"}]},null,8,["modelValue"]),Object(r["createVNode"])(a,{modelValue:Object(r["unref"])(l).username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Object(r["unref"])(l).username=e}),name:"username",label:"用户名",placeholder:"请输入用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),Object(r["createVNode"])(a,{modelValue:Object(r["unref"])(l).password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Object(r["unref"])(l).password=e}),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),Object(r["createVNode"])(o,{center:"",title:"记住keys"},{"right-icon":Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{modelValue:Object(r["unref"])(l).rememberKeys,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Object(r["unref"])(l).rememberKeys=e}),size:"20"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(o,{center:"",title:"记住用户名"},{"right-icon":Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{modelValue:Object(r["unref"])(l).rememberUsername,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Object(r["unref"])(l).rememberUsername=e}),size:"20"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["createElementVNode"])("div",m,[Object(r["createVNode"])(i,{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(r["withCtx"])((function(){return[Object(r["unref"])(n).isLoggingIn?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0})):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",b,"提交"))]})),_:1})])]})),_:1})}}});n("9acd");p.__scopeId="data-v-2b250bec";var f=p;Object(r["pushScopeId"])("data-v-3abe74f7");var j={class:"login-wrap"},O=Object(r["createElementVNode"])("div",{class:"title"},[Object(r["createTextVNode"])(" MyNote "),Object(r["createElementVNode"])("div",{class:"subtitle"},"我的专属备忘录")],-1),v=Object(r["createElementVNode"])("footer",null,[Object(r["createElementVNode"])("div",{class:"version"},"ver 0.0.3"),Object(r["createElementVNode"])("div",{class:"sign"},"L❤️C"),Object(r["createElementVNode"])("a",{class:"link"},"github")],-1);Object(r["popScopeId"])();var g=Object(r["defineComponent"])({setup:function(e){return function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",j,[O,Object(r["createVNode"])(f),v])}}});n("9053");g.__scopeId="data-v-3abe74f7";t["default"]=g}}]);