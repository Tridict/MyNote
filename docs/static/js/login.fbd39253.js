(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"498a":function(e,t,n){"use strict";var r=n("23e7"),a=n("58a8").trim,c=n("c8d2");r({target:"String",proto:!0,forced:c("trim")},{trim:function(){return a(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("577e"),c=n("5899"),s="["+c+"]",u=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),l=function(e){return function(t){var n=a(r(t));return 1&e&&(n=n.replace(u,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5f8c":function(e,t,n){"use strict";n("b646")},"62a1":function(e,t,n){"use strict";n("e756")},"9ed6":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=(n("9a83"),n("f564")),c=n("1da1"),s=(n("96cf"),n("ac1f"),n("1276"),n("498a"),n("d3b7"),n("ddb0"),n("99af"),n("6c02")),u=n("65d1"),o=n("8b10"),l=n("79f6"),i=function(e){return l["a"].post("/1.1/login",e)},b=function(e){return l["a"].post("/1.1/users",e)};Object(r["H"])("data-v-adec1fa8");var m={class:"btn-wrap"},d={key:1};Object(r["F"])();var j=Object(r["m"])({setup:function(e){var t=Object(s["c"])(),n=Object(r["I"])({isLoggingIn:!1}),l=Object(r["I"])({keys:"",username:"",password:"",rememberKeys:!1,rememberUsername:!1,leanCloudKeys:{appId:"",key:"",BASE_URL:""}}),j=function(e){var t=e.trim().split(" ");return 3==t.length&&(l.leanCloudKeys={appId:t[0],key:t[1],BASE_URL:t[2]},u["a"].setLocal("leanCloudKeys",l.leanCloudKeys),!0)},O=function(){l.keys&&!j(l.keys)?console.log("LeanCloud字符串可能不正确"):f()},f=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var r,c,s,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=m.length>0&&void 0!==m[0]?m[0]:"登录",n.isLoggingIn=!0,p(),e.prev=3,c={},"注册"!==r){e.next=11;break}return e.next=8,b({username:l.username,password:l.password});case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,i({username:l.username,password:l.password});case 13:c=e.sent;case 14:u["a"].setLocal("LcUserInfo",c),Object(a["a"])({type:"success",message:"你好，".concat(l.username,"，").concat(r,"成功啦！")}),s=Object(o["a"])("redirect"),"string"===typeof s?t.push(s):t.push("/notes"),e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](3),console.log(e.t0),Object(a["a"])("".concat(e.t0));case 24:n.isLoggingIn=!1;case 25:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(){return e.apply(this,arguments)}}(),p=function(){l.rememberKeys?u["a"].setLocal("keys",l.keys):u["a"].setLocal("keys",""),l.rememberUsername?u["a"].setLocal("username",l.username):u["a"].setLocal("username",""),u["a"].setLocal("rememberKeys",l.rememberKeys),u["a"].setLocal("rememberUsername",l.rememberUsername)},g=function(){l.rememberKeys=u["a"].get("rememberKeys")||!1,l.rememberUsername=u["a"].get("rememberUsername")||!1,l.keys=u["a"].get("keys")||"",l.username=u["a"].get("username")||""};return Object(r["B"])(g),function(e,t){var a=Object(r["M"])("van-field"),c=Object(r["M"])("van-switch"),s=Object(r["M"])("van-cell"),u=Object(r["M"])("van-cell-group"),o=Object(r["M"])("van-loading"),i=Object(r["M"])("van-button"),b=Object(r["M"])("van-form");return Object(r["E"])(),Object(r["g"])(b,{onSubmit:O},{default:Object(r["X"])((function(){return[Object(r["l"])(u,{inset:""},{default:Object(r["X"])((function(){return[Object(r["l"])(a,{modelValue:Object(r["S"])(l).keys,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(r["S"])(l).keys=e}),name:"keys",label:"keys",placeholder:"请输入LeanCloud Keys 字符串（选填）",rules:[{required:!1,message:"请填写LeanCloud Keys"}]},null,8,["modelValue"]),Object(r["l"])(a,{modelValue:Object(r["S"])(l).username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Object(r["S"])(l).username=e}),name:"username",label:"用户名",placeholder:"请输入用户名*",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),Object(r["l"])(a,{modelValue:Object(r["S"])(l).password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Object(r["S"])(l).password=e}),type:"password",name:"password",label:"密码",placeholder:"请输入密码*",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),Object(r["l"])(s,{center:"",title:"记住keys"},{"right-icon":Object(r["X"])((function(){return[Object(r["l"])(c,{modelValue:Object(r["S"])(l).rememberKeys,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Object(r["S"])(l).rememberKeys=e}),size:"20"},null,8,["modelValue"])]})),_:1}),Object(r["l"])(s,{center:"",title:"记住用户名"},{"right-icon":Object(r["X"])((function(){return[Object(r["l"])(c,{modelValue:Object(r["S"])(l).rememberUsername,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Object(r["S"])(l).rememberUsername=e}),size:"20"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["j"])("div",m,[Object(r["l"])(i,{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(r["X"])((function(){return[Object(r["S"])(n).isLoggingIn?(Object(r["E"])(),Object(r["g"])(o,{key:0})):(Object(r["E"])(),Object(r["i"])("span",d,"提交"))]})),_:1})])]})),_:1})}}});n("5f8c");j.__scopeId="data-v-adec1fa8";var O=j;Object(r["H"])("data-v-61e9162c");var f={class:"login-wrap"},p=Object(r["j"])("div",{class:"title"},[Object(r["k"])(" MyNote "),Object(r["j"])("div",{class:"subtitle"},"我的专属备忘录")],-1),g=Object(r["j"])("footer",null,[Object(r["j"])("div",{class:"version"},"ver 0.0.3"),Object(r["j"])("div",{class:"sign"},"L❤️C"),Object(r["j"])("a",{class:"link"},"github")],-1);Object(r["F"])();var v=Object(r["m"])({setup:function(e){return document.title="login - MyNote",function(e,t){return Object(r["E"])(),Object(r["i"])("div",f,[p,Object(r["l"])(O),g])}}});n("62a1");v.__scopeId="data-v-61e9162c";t["default"]=v},b646:function(e,t,n){},c8d2:function(e,t,n){var r=n("d039"),a=n("5899"),c="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||c[e]()!=c||a[e].name!==e}))}},e756:function(e,t,n){}}]);